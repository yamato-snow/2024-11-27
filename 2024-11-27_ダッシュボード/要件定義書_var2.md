# データ可視化ダッシュボードアプリケーション要件定義書

## 1. アプリケーション概要

### 1.1 目的
- CSVファイルのデータを読み込み、グラフやチャートで可視化し、基本的な分析機能を提供する
- 30分程度で実装可能なシンプルな機能セット

### 1.2 対象ユーザー
- データ分析の基本的な知識を持つユーザー
- Excelなどの表計算ソフトに慣れているユーザー

## 2. 機能要件

### 2.1 ファイル読み込み機能
- CSVファイルの読み込み
  - `window.fs.readFile` APIを使用
  - Papaparseライブラリでのパース処理

### 2.2 データ表示機能
- データテーブル表示
  - `ft.DataTable`を使用
  - スクロール可能な表形式でデータを表示

### 2.3 データ可視化機能
- 折れ線グラフ
  - recharts ライブラリの`LineChart`コンポーネントを使用
  - 時系列データの可視化

### 2.4 基本的な分析機能
- データの基本統計量の表示
  - lodashライブラリを使用した集計処理
  - 合計、平均、最大、最小値の表示

## 3. 画面設計

### 3.1 メインレイアウト
```python
ft.Column([
    # ヘッダー部分
    ft.Container(
        content=ft.Text("データ可視化ダッシュボード"),
        padding=20
    ),
    
    # ファイル選択部分
    ft.Row([
        ft.ElevatedButton("CSVファイルを選択"),
    ]),
    
    # データ表示・可視化エリア
    ft.Row([
        # 左側：データテーブル
        ft.Column([
            ft.Text("データテーブル"),
            ft.DataTable()
        ]),
        
        # 右側：グラフ
        ft.Column([
            ft.Text("グラフ"),
            # rechartsのグラフコンポーネント
        ])
    ]),
    
    # 統計情報表示エリア
    ft.Row([
        ft.Container(
            content=ft.Column([
                ft.Text("基本統計情報"),
                # 統計情報の表示
            ])
        )
    ])
])
```

## 4. 使用するライブラリとコンポーネント

### 4.1 基本フレームワーク
- Flet (ft)

### 4.2 データ処理ライブラリ
- Papaparse: CSVパース用
- lodash: データ集計処理用

### 4.3 グラフライブラリ
- recharts: グラフ描画用

### 4.4 主要なFletコントロール
- `ft.Page`: メインページ
- `ft.Column`: 垂直方向のレイアウト
- `ft.Row`: 水平方向のレイアウト
- `ft.Container`: コンテンツのラッパー
- `ft.Text`: テキスト表示
- `ft.ElevatedButton`: ボタン
- `ft.DataTable`: データテーブル表示

## 5. 実装の制約事項

### 5.1 パフォーマンス要件
- CSVファイルの最大サイズ: 10MB以下を推奨
- 表示レコード数: 1000件以下を推奨

### 5.2 UIガイドライン
- レスポンシブ対応は最小限
- 基本的なエラーハンドリングの実装
  - ファイル読み込みエラー
  - データパースエラー

## 6. 将来の拡張性

### 6.1 追加検討可能な機能
- ファイルタイプの追加（Excel等）
- グラフタイプの追加
- データフィルタリング機能
- データエクスポート機能
